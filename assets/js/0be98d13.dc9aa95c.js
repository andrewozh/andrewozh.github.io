"use strict";(self.webpackChunkdevops_sandbox=self.webpackChunkdevops_sandbox||[]).push([[8299],{4830:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>m,frontMatter:()=>l,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"type":"mdx","permalink":"/demo","source":"@site/src/pages/demo.md","title":"DevOps Sandbox Demo","description":"Local setup on Kind","frontMatter":{"hide_table_of_contents":true},"unlisted":false}');var o=s(4848),i=s(8453),t=s(6540),a=s(8478);const l={hide_table_of_contents:!0},c="DevOps Sandbox Demo",d={},h=[{value:"Local setup on Kind",id:"local-setup-on-kind",level:2},{value:"1. bootstrap",id:"1-bootstrap",level:3},{value:"2. port-forward argocd and see the sync process",id:"2-port-forward-argocd-and-see-the-sync-process",level:3},{value:"Web Browser Interface",id:"web-browser-interface",level:4},{value:"3. Sync other infra apps",id:"3-sync-other-infra-apps",level:3},{value:"(TODO) 4. Deploy demo apps: producer/consumer",id:"todo-4-deploy-demo-apps-producerconsumer",level:3},{value:"KILLERCODA",id:"killercoda",level:2}];function p(e){const n={a:"a",admonition:"admonition",code:"code",div:"div",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"devops-sandbox-demo",children:"DevOps Sandbox Demo"})}),"\n",(0,o.jsx)(n.h2,{id:"local-setup-on-kind",children:"Local setup on Kind"}),"\n","\n",(0,o.jsx)(a.A,{children:()=>{const e=(()=>{const e=window.navigator.userAgent,n=window.navigator.platform;return e.includes("Mac")||n.includes("Mac")?{name:"macOS",color:"success",message:"Your OS is supported for local demo",icon:"\ud83c\udf4e"}:e.includes("Linux")||n.includes("Linux")?{name:"Linux",color:"warning",message:"Local demo not tested on your OS",icon:"\ud83d\udc27"}:e.includes("Win")||n.includes("Win")?{name:"Windows",color:"warning",message:"Local demo not tested on your OS",icon:"\ud83e\ude9f"}:e.includes("iPhone")||e.includes("iPad")?{name:"iOS",color:"danger",message:"You can't run local demo on your OS",icon:"\ud83d\udcf1"}:e.includes("Android")?{name:"Android",color:"danger",message:"You can't run local demo on your OS",icon:"\ud83e\udd16"}:{name:"Unknown",color:"danger",message:"You can't run local demo on your OS",icon:"\u2753"}})();return(0,o.jsxs)("div",{className:`alert alert--${e.color}`,role:"alert",style:{marginBottom:"1.5rem"},children:[(0,o.jsx)("span",{style:{fontSize:"1.2rem",marginRight:"0.5rem",marginBottom:"0.5rem"},children:e.icon}),(0,o.jsx)("strong",{children:e.name})," | ",e.message]})}}),"\n",(0,o.jsx)(n.h3,{id:"1-bootstrap",children:"1. bootstrap"}),"\n",(0,o.jsx)(n.admonition,{title:"Requirements",type:"warning",children:(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.strong,{children:"macOS/Linux"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.strong,{children:"podman, kind"})}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"sudo"})," - for installing home.lab local certs (do not trust, just check the code)"]}),"\n"]})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"bash <(curl -s https://raw.githubusercontent.com/andrewozh/devops-sandbox/refs/heads/main/bootstrap/kind/bootstrap.sh)\n"})}),"\n",(0,o.jsx)(n.h3,{id:"2-port-forward-argocd-and-see-the-sync-process",children:"2. port-forward argocd and see the sync process"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"kubectl port-forward svc/argocd-server -n argocd 8080:80\n"})}),"\n",(0,o.jsx)(n.admonition,{title:"Access ArgoCD UI",type:"tip",children:(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"http://localhost:8080",children:"http://localhost:8080"})}),"\n",(0,o.jsx)(n.li,{children:"Username: admin"}),"\n",(0,o.jsx)(n.li,{children:"Password: admin"}),"\n"]})}),"\n",(0,o.jsx)(n.admonition,{title:"Essential apps",type:"note",children:(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"argocd (admin/admin)"}),"\n",(0,o.jsx)(n.li,{children:"ingress-nginx"}),"\n",(0,o.jsx)(n.li,{children:"cert-manager"}),"\n",(0,o.jsx)(n.li,{children:"prometheus-stack"}),"\n"]})}),"\n",(0,o.jsx)(n.h4,{id:"web-browser-interface",children:"Web Browser Interface"}),"\n",(0,o.jsx)(a.A,{fallback:(0,o.jsx)(n.div,{children:"Loading browser interface..."}),children:()=>{const[e,n]=t.useState("localhost"),[s,r]=t.useState([{id:"localhost",name:"ArgoCD (localhost)",url:"http://localhost:8080",status:"checking"},{id:"argocd",name:"ArgoCD",url:"https://argocd.home.lab",status:"checking"},{id:"grafana",name:"Grafana",url:"https://grafana.home.lab",status:"checking"},{id:"kibana",name:"Kibana",url:"https://kibana.home.lab",status:"checking"},{id:"vault",name:"Vault",url:"https://vault.home.lab",status:"checking"}]),[i,a]=t.useState(new Set);t.useEffect(()=>{const e=async()=>{const e=await Promise.all(s.map(async e=>{const n=await(async e=>{try{return await fetch(e,{method:"GET",mode:"no-cors",cache:"no-cache"}),!0}catch(n){return!1}})(e.url);return{...e,status:n?"online":"offline"}}));r(e)};e();const n=setInterval(e,1e4);return()=>clearInterval(n)},[]);const l={width:"12px",height:"12px",borderRadius:"50%",cursor:"pointer"},c=n=>({background:e===n.id?"var(--ifm-color-emphasis-100)":"var(--ifm-color-emphasis-300)",border:"none",borderRadius:"8px 8px 0 0",padding:"0.5rem 1rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s ease",minWidth:"180px",color:"var(--ifm-font-color-base)",borderBottom:e===n.id?"2px solid var(--ifm-color-primary)":"2px solid transparent",borderLeft:"online"===n.status?"3px solid #22c55e":"offline"===n.status?"3px solid #ef4444":"3px solid #f59e0b"}),d={width:"100%",height:"100%",border:"none",background:"white"},h={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center",color:"var(--ifm-font-color-base)",padding:"2rem"};return(0,o.jsxs)("div",{style:{width:"100%",background:"var(--ifm-color-emphasis-100)",borderRadius:"12px",overflow:"hidden",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid var(--ifm-color-emphasis-200)",marginTop:"1rem"},children:[(0,o.jsxs)("div",{style:{background:"var(--ifm-color-emphasis-200)",borderBottom:"1px solid var(--ifm-color-emphasis-300)",display:"flex",alignItems:"center",padding:"0.75rem 1rem",gap:"1rem"},children:[(0,o.jsxs)("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[(0,o.jsx)("div",{style:{...l,backgroundColor:"#ff5f57"}}),(0,o.jsx)("div",{style:{...l,backgroundColor:"#ffbd2e"}}),(0,o.jsx)("div",{style:{...l,backgroundColor:"#28ca42"}})]}),(0,o.jsx)("div",{style:{display:"flex",gap:"0.25rem",flex:1,overflowX:"auto"},children:s.map(e=>(0,o.jsxs)("button",{style:c(e),onClick:()=>n(e.id),children:[(0,o.jsxs)("span",{style:{fontSize:"0.8rem"},children:["checking"===e.status&&"\ud83d\udd04","online"===e.status&&"\ud83d\udfe2","offline"===e.status&&"\ud83d\udd34"]}),(0,o.jsx)("span",{style:{fontWeight:"600",fontSize:"0.9rem"},children:e.name})]},e.id))})]}),(0,o.jsx)("div",{style:{height:"500px",position:"relative",background:"white"},children:s.map(n=>(0,o.jsx)("div",{style:{display:e===n.id?"block":"none",height:"100%",width:"100%"},children:"online"===n.status?(0,o.jsx)("iframe",{src:n.url,style:d,title:`${n.name} - ${n.url}`,sandbox:"allow-scripts allow-forms allow-popups allow-top-navigation"}):(0,o.jsxs)("div",{style:h,children:[(0,o.jsx)("div",{style:{fontSize:"4rem",marginBottom:"1rem",opacity:.6},children:"\ud83d\udd0c"}),(0,o.jsx)("h3",{style:{color:"var(--ifm-font-color-base)",marginBottom:"1rem"},children:"Service Unavailable"}),(0,o.jsxs)("p",{style:{color:"var(--ifm-font-color-secondary)",marginBottom:"1rem"},children:[(0,o.jsx)("strong",{children:n.url})," is not accessible"]}),(0,o.jsxs)("p",{children:["Status: ",(0,o.jsx)("span",{style:{background:"var(--ifm-color-emphasis-300)",padding:"0.25rem 0.75rem",borderRadius:"12px",fontWeight:"600",textTransform:"uppercase",fontSize:"0.8rem"},children:n.status})]})]})},n.id))})]})}}),"\n",(0,o.jsx)(n.h3,{id:"3-sync-other-infra-apps",children:"3. Sync other infra apps"}),"\n",(0,o.jsx)(n.admonition,{title:"Required apps",type:"note",children:(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"vault"}),"\n",(0,o.jsx)(n.li,{children:"external-secrets"}),"\n",(0,o.jsx)(n.li,{children:"elk"}),"\n"]})}),"\n",(0,o.jsx)(n.admonition,{title:"Optional apps",type:"note",children:(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"postgres"}),"\n",(0,o.jsx)(n.li,{children:"kafka"}),"\n",(0,o.jsx)(n.li,{children:"mongo"}),"\n",(0,o.jsx)(n.li,{children:"redis"}),"\n",(0,o.jsx)(n.li,{children:"clickhouse"}),"\n"]})}),"\n",(0,o.jsx)(n.h3,{id:"todo-4-deploy-demo-apps-producerconsumer",children:"(TODO) 4. Deploy demo apps: producer/consumer"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"have web-ui"}),"\n",(0,o.jsx)(n.li,{children:"shows secrets"}),"\n",(0,o.jsx)(n.li,{children:"db connection status"}),"\n",(0,o.jsx)(n.li,{children:"shows data from databases"}),"\n",(0,o.jsx)(n.li,{children:"add message in producer-app"}),"\n",(0,o.jsx)(n.li,{children:"appear message in consumer app"}),"\n",(0,o.jsx)(n.li,{children:"have metrics"}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"killercoda",children:"KILLERCODA"}),"\n",(0,o.jsx)(n.admonition,{title:"Free online kubernetes playground",type:"note",children:(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://killercoda.com/playgrounds/scenario/kubernetes",children:"https://killercoda.com/playgrounds/scenario/kubernetes"})}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"2 x 2Gb"})," or ",(0,o.jsx)(n.code,{children:"1 x 4Gb"})]}),"\n"]})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"bash <(curl -s https://raw.githubusercontent.com/andrewozh/devops-sandbox/refs/heads/main/bootstrap/demo/bootstrap.sh)\n"})})]})}function m(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(p,{...e})}):p(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>a});var r=s(6540);const o={},i=r.createContext(o);function t(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),r.createElement(i.Provider,{value:n},e.children)}},8478:(e,n,s)=>{s.d(n,{A:()=>i});s(6540);var r=s(2303),o=s(4848);function i({children:e,fallback:n}){return(0,r.A)()?(0,o.jsx)(o.Fragment,{children:e?.()}):n??null}}}]);