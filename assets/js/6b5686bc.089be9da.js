"use strict";(self.webpackChunkdevops_sandbox=self.webpackChunkdevops_sandbox||[]).push([[1681],{8425:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"observability/logs/fluentbit","title":"Fluent-bit","description":"|Distro|Fluent-bit|","source":"@site/docs/observability/logs/fluentbit.md","sourceDirName":"observability/logs","slug":"/observability/logs/fluentbit","permalink":"/docs/observability/logs/fluentbit","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"distro","permalink":"/docs/tags/distro"},{"inline":true,"label":"tool","permalink":"/docs/tags/tool"},{"inline":true,"label":"fluent-bit","permalink":"/docs/tags/fluent-bit"},{"inline":true,"label":"logs","permalink":"/docs/tags/logs"},{"inline":true,"label":"observability","permalink":"/docs/tags/observability"}],"version":"current","frontMatter":{"tags":["distro","tool","fluent-bit","logs","observability"]},"sidebar":"tutorialSidebar","previous":{"title":"Elastic Cloud on Kubernetes","permalink":"/docs/observability/logs/elastic/elastic-operator"},"next":{"title":"Kibana","permalink":"/docs/observability/logs/kibana"}}');var i=s(4848),l=s(8453);const r={tags:["distro","tool","fluent-bit","logs","observability"]},a="Fluent-bit",o={},c=[{value:"Setup",id:"setup",level:2},{value:"Usecases",id:"usecases",level:2},{value:"\u2705 Basic: send kubernetes pods logs to ElasticSearch",id:"white_check_mark-basic-send-kubernetes-pods-logs-to-elasticsearch",level:3},{value:"\u2705 Monitoring",id:"white_check_mark-monitoring",level:2},{value:"Maintenence",id:"maintenence",level:2},{value:"Articles",id:"articles",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"fluent-bit",children:"Fluent-bit"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"Distro"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.a,{href:"https://fluentbit.io",children:"Fluent-bit"})})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Type"})}),(0,i.jsx)(n.td,{children:"daemonset"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Deploy"})}),(0,i.jsx)(n.td,{children:"helm-chart"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Docs"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://docs.fluentbit.io/manual",children:"link"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Backup"})}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Scaling"})}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"CLI"})}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"UI"})}),(0,i.jsx)(n.td,{})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"setup",children:"Setup"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"deployment explained"}),"\n",(0,i.jsx)(n.li,{children:"how to setup"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"usecases",children:"Usecases"}),"\n",(0,i.jsxs)(n.h3,{id:"white_check_mark-basic-send-kubernetes-pods-logs-to-elasticsearch",children:["\u2705"," Basic: send kubernetes pods logs to ElasticSearch"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"fluent-bit:\n  config:\n    service: |\n      [SERVICE]\n          Daemon Off\n          Flush {{ .Values.flush }}\n          Log_Level {{ .Values.logLevel }}\n          Parsers_File /fluent-bit/etc/parsers.conf\n          Parsers_File /fluent-bit/etc/conf/custom_parsers.conf\n          HTTP_Server On\n          HTTP_Listen 0.0.0.0\n          HTTP_Port {{ .Values.metricsPort }}\n          Health_Check On\n    inputs: |\n      [INPUT]\n          Name tail\n          Path /var/log/containers/*.log\n          Exclude_Path /var/log/containers/fluent-bit*.log\n          multiline.parser docker, cri\n          Tag kube.*\n          Mem_Buf_Limit 5MB\n          Skip_Long_Lines On\n    filters: |\n      [FILTER]\n          Name kubernetes\n          Match kube.*\n          Merge_Log On\n          Keep_Log Off\n          K8S-Logging.Parser On\n          K8S-Logging.Exclude On\n          Labels Off\n          Annotations Off\n    outputs: |\n      [OUTPUT]\n          Name es\n          Match kube.*\n          Host {{ .Values.esHost }}\n          Port {{ .Values.esPort }}\n          HTTP_User fluentbit\n          HTTP_Passwd fluentbit\n          Logstash_Format On\n          Retry_Limit False\n          Suppress_Type_Name On\n          TLS On\n          TLS.Verify Off\n    customParsers: |\n      [PARSER]\n          Name docker_no_time\n          Format json\n          Time_Keep Off\n          Time_Key time\n          Time_Format %Y-%m-%dT%H:%M:%S.%L\n\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"white_check_mark-monitoring",children:["\u2705"," Monitoring"]}),"\n",(0,i.jsx)(n.admonition,{title:"Grafana Dashboard",type:"note",children:(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://grafana.com/grafana/dashboards/7752-logging-dashboard/",children:"https://grafana.com/grafana/dashboards/7752-logging-dashboard/"})})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"enable servicemonitor"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"fluent-bit:\n  serviceMonitor:\n    enabled: true\n    namespace: monitoring\n"})}),"\n",(0,i.jsx)(n.h2,{id:"maintenence",children:"Maintenence"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Backup / Restore"}),"\n",(0,i.jsx)(n.li,{children:"Scaling"}),"\n",(0,i.jsx)(n.li,{children:"Upgrade"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"articles",children:"Articles"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#",children:"Example article link"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>a});var t=s(6540);const i={},l=t.createContext(i);function r(e){const n=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);